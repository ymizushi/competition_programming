#!/usr/bin/env python
# -*- coding: utf-8 -*-
import sys
import codecs
sys.stdout = codecs.getwriter('utf_8')(sys.stdout)
sys.setrecursionlimit(2000)
 
ROW = 50
COLUMN = 50
ROW = 10
COLUMN = 10
 
class Tile:
    def __init__(self,kind,x,y):
        self.kind = kind
        self.beforeTile = None
        self.searched = False
        self.x = x
        self.y = y
 
tileArray = []

tile_que = []

tile_map = [
["#","S","#","#","#","#","#","#",".","#"],
[".",".",".",".",".",".","#",".",".","#"],
[".","#",".","#","#",".","#","#",".","#"],
[".","#",".",".",".",".",".",".",".","."],
["#","#",".","#","#",".","#","#","#","#"],
[".",".",".",".","#",".",".",".",".","#"],
[".","#","#","#","#","#","#","#",".","#"],
[".",".",".",".","#",".",".",".",".","."],
[".","#","#","#","#",".","#","#","#","."],
[".",".",".",".","#",".",".",".","G","#"],
]

# tile_map = [
# [".","S",".","#",".","#","#",".","#","#","#","#",".","#","#",".",".",".",".","#",".",".","#",".",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",],
# [".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".","#","#",".","#",".","#","#","#",".","#",".","#","#","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".",],
# ["#","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#",".","#",".",".","#",".",".","#",".",".",".","#",".","#",".",".",".",".",".","#",".",".",".",".",".",".","#",".","#",".","#",".",],
# [".",".",".","#",".",".",".","#",".",".",".",".",".",".",".",".","#","#",".","#",".",".",".",".","#","#","#","#",".","#",".","#","#",".","#",".",".","#",".","#","#","#",".",".",".",".",".",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".","#",".","#","#","#","#","#","#",".","#",".","#",".",".",".",".",".",".",".","#",".","#",".",".","#",".",".",".",".",".",".",".",".","#","#","#",".",".","#",".",],
# [".","#","#","#","#","#","#",".","#","#","#",".","#",".",".",".","#","#",".","#",".","#",".","#",".","#","#",".",".","#",".","#",".","#","#","#","#","#","#","#","#","#",".","#",".","#","#",".","#",".",],
# [".",".",".",".",".",".",".",".",".",".","#",".","#",".","#",".","#","#",".","#",".","#","#","#","#","#","#","#",".","#",".","#",".","#",".",".",".","#",".",".",".","#",".","#",".","#",".",".","#",".",],
# [".","#",".","#","#","#","#","#","#","#","#",".","#",".","#",".","#","#",".","#",".",".",".",".","#","#",".","#",".","#",".","#",".","#",".","#",".","#",".",".",".","#",".","#",".","#",".",".","#",".",],
# [".","#",".","#","#",".","#",".","#",".","#",".","#",".","#",".","#",".",".","#",".","#","#",".",".",".",".",".",".","#",".","#",".","#",".","#",".",".",".","#",".","#",".","#",".","#",".",".","#",".",],
# [".","#",".",".",".",".","#",".","#",".","#",".","#",".","#",".","#",".","#","#",".","#","#","#","#","#","#","#","#","#",".","#",".","#","#","#","#","#","#","#",".","#",".","#",".","#",".","#","#",".",],
# ["#","#","#","#","#","#","#",".","#",".",".",".","#",".","#",".","#",".",".",".",".",".",".","#",".",".",".",".",".","#",".","#",".",".",".",".",".",".",".",".",".","#",".","#",".","#",".",".","#",".",],
# [".",".","#",".",".",".","#",".","#",".","#",".","#",".","#",".","#",".",".","#","#","#","#","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#",".","#",".","#",".",".","#",".",],
# [".",".",".",".",".",".","#",".","#",".","#",".",".",".","#",".","#",".",".",".",".",".",".","#",".",".","#",".",".","#",".",".",".",".",".","#",".",".",".",".",".",".",".","#",".","#",".",".","#",".",],
# ["#","#","#","#","#",".","#",".","#",".","#","#","#","#","#",".","#","#","#","#","#",".",".","#",".",".",".",".",".","#",".",".","#","#",".",".",".","#",".","#",".",".",".","#",".","#","#",".","#",".",],
# [".",".","#",".",".",".","#",".","#",".","#",".","#","#","#",".","#",".","#","#","#","#","#","#","#","#",".","#","#","#","#","#","#","#","#","#",".","#",".","#",".",".",".","#",".","#",".",".","#",".",],
# [".",".","#",".","#",".",".",".","#",".","#",".",".",".",".",".",".",".","#",".",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#","#","#",".","#",".","#",".",".","#",".",],
# [".",".",".",".","#",".",".",".",".",".","#",".","#","#","#","#","#",".","#",".","#","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".",".",".","#",".",".",".",".","#",".",],
# [".","#","#","#","#","#","#","#","#","#","#",".","#",".","#",".","#",".","#",".",".","#",".",".","#",".",".","#",".",".",".",".",".",".",".",".",".","#",".","#",".",".","#","#","#","#","#","#","#",".",],
# [".","#",".",".","#",".",".",".",".",".","#",".",".",".",".",".","#",".","#",".","#","#","#",".","#",".",".",".",".",".","#","#","#","#","#",".",".",".",".","#",".",".","#",".",".",".",".",".",".",".",],
# [".",".",".","#","#",".","#",".","#",".",".",".",".","#","#",".","#",".","#",".",".","#",".",".","#",".","#","#","#","#","#","#","#","#","#","#",".","#",".","#","#",".","#",".","#","#","#","#","#","#",],
# [".","#",".",".","#",".","#",".","#",".","#","#","#","#","#","#","#",".","#","#",".","#",".","#","#",".","#",".",".",".",".",".",".",".",".",".",".","#",".","#","#",".","#",".",".",".","#","#","#","#",],
# [".","#","#",".","#","#","#","#","#",".","#",".",".",".",".",".",".",".","#","#",".",".",".",".","#",".","#",".","#","#","#","#","#","#","#","#",".","#",".","#","#",".","#",".","#",".","#",".",".",".",],
# ["#","#","#","#","#",".",".",".",".",".","#","#","#","#","#","#","#","#","#","#","#","#","#",".","#","#","#",".","#",".",".",".",".",".","#","#",".","#",".","#","#",".","#",".","#",".","#",".","#",".",],
# [".",".",".",".",".",".",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".",".",".","#",".","#","#","#","#","#",".","#","#",".","#",".","#","#",".","#",".","#",".","#",".","#",".",],
# ["#","#","#","#",".","#","#","#","#",".",".",".",".",".",".",".",".",".",".",".",".",".","#","#","#",".","#",".","#","#","#","#","#",".","#","#",".","#",".","#","#",".","#",".","#",".","#",".","#",".",],
# [".",".",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".","#",".",".",".",".",".",".",".","#","#",".","#",".","#","#",".","#",".","#",".","#",".","#",".",],
# [".","#",".","#",".",".",".",".","#","#","#",".",".","#","#","#",".",".",".",".",".",".",".",".","#",".","#","#","#","#","#","#","#","#","#","#",".","#",".","#","#",".","#",".","#",".","#",".","#",".",],
# [".","#",".","#",".","#",".","#",".",".",".",".",".","#",".",".",".",".",".",".",".",".",".",".","#",".",".",".",".",".",".",".",".",".",".",".",".","#",".","#","#",".","#",".","#",".","#",".","#",".",],
# [".","#",".","#",".",".",".","#","#","#",".",".",".","#",".","#","#","#",".",".",".",".",".",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#",".","#","#",".","#",".","#","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".","#",".",".","#",".",".","#",".",".",".",".",".",".",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#",".","#",".",".","#","#",".","#",".",],
# [".","#",".","#",".",".",".",".",".",".","#",".",".","#",".",".","#",".",".",".",".",".",".",".","#",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".","#","#","#",".",".",".","#","#","#","#",".",".",".",".",".",".",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".","#",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".",".","#","#","#",".",".","#","#","#",".",".",".",".","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".",".",".",".",".",".",".","#",".",".",".",".",".","#",".",".",".",".",".",".","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".","#","#","#",".",".",".","#",".","#","#","#",".",".","#",".","#",".","#",".","#",".","#",".",".",".",".",".",".",".",".",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".",".",".",".",".",".",".",".",".",".","#",".",".","#",".",".","#",".",".",".","#",".","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".",".",".",".","#",".",".","#",".",".","#",".",".",".","#",".","#",".","#",".","#",".","#",".","#",".","#","G","#",".","#",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".","#","#","#",".",".",".","#","#","#","#",".",".",".","#",".","#",".","#",".","#",".","#",".","#",".","#",".","#",".","#",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".","#",".","#",".","#",".","#",".","#",".","#",".","#",".","#",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".","#","#","#",".",".","#","#","#",".",".",".",".",".",".",".","#",".","#",".","#",".","#",".","#",".","#",".",".",".",".",".",".",".","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".","#",".",".",".",".",".","#",".",".",".",".",".","#","#","#",".","#",".","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".","#","#","#",".",".",".","#",".","#","#","#",".","#",".","#",".","#",".","#",".","#",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".","#",".",".","#",".",".","#",".",".","#",".","#",".","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".","#",".",".","#",".",".","#",".",".","#",".","#",".","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".","#",".",],
# [".","#",".","#",".","#",".",".","#","#","#",".",".",".","#","#","#","#",".",".","#",".","#",".","#",".","#",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".",],
# [".","#",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".","#",".","#",".","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".",],
# [".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".",".",".","#",".","#",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",],
# [".","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".","#",".","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",".",],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",],
# ]


for y in range(COLUMN):
    for x in range(ROW):
        tileArray += [Tile(tile_map[y][x],x,y)]

def getTileByXY(x, y):
    if x<0 or y < 0:
        return None
    if x >= ROW or y >= COLUMN:
        return None
    return tileArray[y*ROW + x]
 
def check(x,y):
    if x<0 or y < 0:
        return False
    if x >= ROW or y >= COLUMN:
        return False
    tile = getTileByXY(x,y)
    if tile.searched:
        return False
    if tile.kind is "#":
        return False
    return True
 
def surroundTiles(tile):
    tiles = []
    if check(tile.x,tile.y-1):
        tile = getTileByXY(tile.x,tile.y-1)
        tiles += [tile]
    if check(tile.x+1,tile.y):
        tile = getTileByXY(tile.x+1,tile.y)
        tiles += [tile]
    if check(tile.x,tile.y+1):
        tile = getTileByXY(tile.x,tile.y+1)
        tiles += [tile]
    if check(tile.x-1,tile.y):
        tile = getTileByXY(tile.x-1,tile.y)
        tiles += [tile]
    return tiles

startTile = filter(lambda x:x.kind == "S", tileArray)

tile_que += [startTile[0]]
 
def choiceTile(tile_que,count):
    tile = tile_que.pop(0)
    tile.searched = True
    if tile.kind == "G":
        return tile,count
    tiles = surroundTiles(tile)
    tile_que += tiles
    if tile_que:
        return choiceTile(tile_que,count+1)
    raise Exception("not found")
 
tile,count = choiceTile(tile_que,0)
print tile.x
print tile.y
print count
